// ====================================================================================================================
// FORMS
// ====================================================================================================================

@if $forms {

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// Base
// --------------------------------------------------------------------------------------------------------------------

	.form {
		@extend .clearfix;
		margin: 0 0 em($base-line-height);

		fieldset {
			padding: 0;
			margin: 0;
			border: 0;
		}
		legend {
			display: block;
			width: 100%;
			padding: 0;
			@include adjust-font-size-to($h5-size);
			font-weight: bold;
			border: 0;
			padding-bottom: rhythm(.5);
			margin-bottom: rhythm(.5) - 1;
			border-bottom: 1px solid #e5e5e5;
			small {
				font-size: em($base-font-size);
				color: $grayLight;
			}
		}
		label,
		input,
		button,
		select,
		textarea {
			line-height: 1em;
		}
		input,
		button,
		select,
		textarea {
			font-family: $base-font-family;
		}
		label {
			display: block;
			margin-bottom: em($label-margin-bottom);
			font-weight: bold;
			cursor: auto;
		}
		textarea,
		input[type="text"],
		input[type="password"],
		input[type="datetime"],
		input[type="datetime-local"],
		input[type="date"],
		input[type="month"],
		input[type="time"],
		input[type="week"],
		input[type="number"],
		input[type="email"],
		input[type="url"],
		input[type="search"],
		input[type="tel"],
		input[type="color"] {
			@include border-radius($base-border-radius);
			display: inline-block;
			padding: $input-padding;
			vertical-align: middle;
			height: $input-height;
			border-width: $input-border;
			border-style: solid;
			@extend %input !optional;

			&:focus {outline: 0;}
		}

		select {
			color: $text-color;
			display: inline-block;
		}

		input,
		textarea {
			width: 240px;
		}

		textarea {
			height: auto;
			line-height: rhythm(1);
			padding: $input-padding;
		}


		input[type="radio"],
		input[type="checkbox"] {
			margin: em(2px) 0 0;
		}

		input[type="file"],
		input[type="image"],
		input[type="submit"],
		input[type="reset"],
		input[type="button"],
		input[type="radio"],
		input[type="checkbox"] {
			width: auto;
		}

		select, .select {
			width: 240px;
		}
		select[multiple],
		select[size] {
			height: auto;
		}


		input,
		textarea {
			@include placeholder();
		}



		// RADIO & CHECKBOX
		// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
		.radio,
		.checkbox,
		.select {
			min-height: em($base-line-height);
			padding-left: 20px;
			margin-bottom: 0;
			font-weight: normal;
			cursor: pointer;
			line-height: rhythm(1);
		}
		.select {padding-left: 0;}

		.radio input[type="radio"],
		.checkbox input[type="checkbox"] {
			float: left;
			margin-left: -20px;
		}
		.controls > .radio:first-child,
		.controls > .checkbox:first-child {
		}
		.radio.inline,
		.checkbox.inline {
			display: inline-block;
			margin-bottom: 0;
			vertical-align: middle;
		}
		.radio.inline + .radio.inline,
		.checkbox.inline + .checkbox.inline {
			margin-left: 20px;
		}


		// CUSTOM SELECT
		// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
		span.select {
			@extend %caret !optional;
			@include border-radius(3px);
			border-style: solid;
			border-width: $input-border;
			cursor: pointer;
			display: inline-block;
			height: $input-height;
			line-height: 1em;
			position: relative;
			width: 240px;

			select {
				@include appearance(none);
				background-color:transparent;
				background-image:none;
				border:none;
				box-shadow:none;
				cursor: pointer;
				padding: $input-padding;
				position: relative;
				width:100%;
				z-index: 3;
				line-height: 1em;
			}

			&:after {
				position: absolute;
				top: 50%;
				right: em($input-padding-side);
				content: "";
				display: block;
			}

		 	@extend %select !optional;

		}

		// DISABLED INPUTS
		// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
		input[disabled],
		select[disabled],
		textarea[disabled],
		input[readonly],
		select[readonly],
		textarea[readonly] {
			cursor: not-allowed;
		}
		input[type="radio"][disabled],
		input[type="checkbox"][disabled],
		input[type="radio"][readonly],
		input[type="checkbox"][readonly] {
			background-color: transparent;
		}
		input:focus:invalid,
		textarea:focus:invalid,
		select:focus:invalid {
			color: #b94a48;
			border-color: #ee5f5b;
			&:focus {
				border-color: darken(#ee5f5b, 10%);
			}
		}

		// HELP BLOCKS
		// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
		.help-block,
		.help-inline {
			color: lighten($text-color, 15%);
		}
		.help-block {
			display: block;
			padding: rhythm(.5) 0 0;
		}
		.help-inline {
			@include inline-block();
			vertical-align: middle;
			padding-left: 5px;
		}


		// CONTROL GROUPS & CONTROLS
		// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
		.control-group {
			margin-bottom: em($control-margin-bottom);

			.control { @extend .clearfix; }
		}

	}

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// Form Actions
// --------------------------------------------------------------------------------------------------------------------

	.form__actions {
		padding-top: rhythm(1);
		margin-top: rhythm(1);
		margin-bottom: rhythm(1);
		border-top: 1px solid #e5e5e5;
		clear: both;
		@extend .clearfix;
	}

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// Form Inline
// --------------------------------------------------------------------------------------------------------------------
@if $forms-inline {

	.form--inline {

		input,
		textarea,
		select,
		.help-inline,
		.uneditable-input,
		.input-prepend,
		.input-append {
			float: left;
			margin-bottom: 0;
			vertical-align: middle;
			margin-right: em(8px);
		}

		.hide {
			display: none;
		}

		label {
			padding-top: em($input-padding-top);
			margin-right: em(8px);
		}

		label,
		.btn-group {
			display: inline-block;
			float: left;
		}

		.input-append,
		.input-prepend {
			margin-bottom: 0;
		}

		.radio,
		.checkbox {
			padding-left: 0;
			margin-bottom: 0;
			vertical-align: middle;
		}

		.radio input[type="radio"],
		.checkbox input[type="checkbox"] {
			float: left;
			margin-right: 3px;
			margin-left: 0;
		}
	}
}

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// Form Aligned
// --------------------------------------------------------------------------------------------------------------------

	@if $forms-aligned {

		.form--aligned {
			@extend .clearfix;

			.control-label {
				float: left;
				width: em($horizontal-offset) - em(20px);
				padding-top: em($input-padding-top);
				text-align: right;
			}

			.controls {
				margin-left: em($horizontal-offset);
			}

			.help-block {
				margin-bottom: 0;
			}

			input,
			select,
			textarea,
			.uneditable-input,
			.input-prepend,
			.input-append {
				// + .help-block {
				// 	margin: rhythm(.5) 0 0;
				// }
			}

			select {
				// margin-top: $input-padding-top;
			}

			.controls > .radio:first-child,
			.controls > .checkbox:first-child {
				padding-top: em($input-padding-top) - em(2px);
			}

			.controls > .radio.inline,
			.controls > .checkbox.inline{
				padding-top: em($input-padding-top) - em(2px);
			}

			.form-actions {
				padding-left: em($horizontal-offset);
			}

			@include media(palm) {
				.control-label {
					width: 100%;
					float: none;
					padding-top: 0;
					text-align: left;
				}

				.controls {
					margin-left: 0;
				}

				.form-actions {
					padding-left: 0;
				}
			}
		}
	}

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// Form Columns
// --------------------------------------------------------------------------------------------------------------------

	@if $forms-columns {

		.form--columns {

			.control-group {
				min-height: $control-min-height;
				.input-append,
				.input-prepend {
					width: 100%;
					.add-on {
						padding: em($input-padding-top) 0;
					}
				}
			}
		}
	}


} // end IF $forms